<?xml version="1.0" encoding="UTF-8"?>

<?import com.comp2042.GameOverPanel?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.*?>
<?import java.net.URL?>

<StackPane fx:id="viewRoot"
           fx:controller="com.comp2042.GuiController"
           xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
           style="-fx-background-color: linear-gradient(to bottom, #1a1a2e 0%, #16213e 100%);">

    <HBox alignment="CENTER" spacing="30">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        
        <VBox spacing="20" alignment="CENTER" minWidth="180">
            <Label text="LEVEL" styleClass="section-title"/>
            <Label fx:id="levelLabel" text="1" prefWidth="140" prefHeight="80" alignment="CENTER" styleClass="level-display"/>

            <VBox spacing="8" alignment="CENTER" style="-fx-padding: 20 0 0 0;">
                <Label text="CONTROLS" styleClass="controls-title"/>
                <Label text="← → Move" styleClass="control-text"/>
                <Label text="↑ Rotate" styleClass="control-text"/>
                <Label text="↓ Soft Drop" styleClass="control-text"/>
                <Label text="SPACE Hard Drop" styleClass="control-text"/>
            </VBox>
        </VBox>

        
        <VBox spacing="15" alignment="CENTER">

            <StackPane styleClass="score-container" alignment="CENTER">
                <Label fx:id="scoreLabel" text="0" styleClass="score-display"/>
            </StackPane>

            <StackPane fx:id="gameContainer">
                <BorderPane fx:id="gameBoard" styleClass="gameBoard" prefWidth="212" maxWidth="212" prefHeight="412">
                    <center>
                                <StackPane style="-fx-padding: 0; -fx-background-color: transparent;">
                                    <GridPane fx:id="gamePanel" hgap="0" vgap="0" alignment="CENTER"
                                              prefWidth="200" maxWidth="200" prefHeight="400" maxHeight="400"
                                              style="-fx-padding: 0;"/>
                                </StackPane>
                            </center>                </BorderPane>
                <StackPane fx:id="groupNotification" visible="false">
                    <GameOverPanel fx:id="gameOverPanel"/>
                </StackPane>
            </StackPane>

            <HBox spacing="10" alignment="CENTER">
                <Button fx:id="pauseButton" text="PAUSE" minWidth="100" prefHeight="45"
                        onAction="#pauseGame" styleClass="game-button"/>
                <Button text="RESTART" minWidth="100" prefHeight="45"
                        onAction="#newGame" styleClass="game-button"/>
                <Button text="MENU" minWidth="100" prefHeight="45"
                        onAction="#backToMainMenu" styleClass="game-button"/>
            </HBox>
        </VBox>

        
        <VBox spacing="10" alignment="CENTER" minWidth="180">
            <VBox alignment="TOP_CENTER" spacing="10" styleClass="next-piece-container" prefWidth="150" prefHeight="150">
                <padding>
                    <Insets top="10"/>
                </padding>
                <Label text="NEXT PIECE" styleClass="section-title"/>
                <StackPane alignment="CENTER">
                    <GridPane fx:id="nextGrid" alignment="CENTER" hgap="1" vgap="1"/>
                </StackPane>
            </VBox>
        </VBox>

    </HBox>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>
</StackPane>